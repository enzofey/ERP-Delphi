unit ConsultarEntidadeForm;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Data.DB, Vcl.StdCtrls, Vcl.Grids, EntidadeDataModule,
  Vcl.DBGrids, Vcl.ExtCtrls;

type
  TConsultarEntidade = class(TForm)
    Panel1: TPanel;
    Grid: TDBGrid;
    BtnSelecionarEntidade: TButton;
    procedure BtnSelecionarEntidadeClick(Sender: TObject);
    procedure FormShow(Sender: TObject);
  private
    ECodigo: string;
    ENome: string;
    EAtivo: string;
    ECPF: string;
    EDDD: string;
    ETelefone: string;
    ERua: string;
    ENumero: string;
    EEstado: string;
    EBairro: string;
    ECidade: string;
    EPais: string;
    EComplemento: string;
    ECEP: string;
    EConsumidor_Final: string;
  public
    function SelecionarEntidade: string;
    function Codigo: string;
    function Ativo: string;
    function Nome: string;
    function CPF: string;
    function DDD: string;
    function Telefone: string;
    function Rua: string;
    function Numero: string;
    function Estado: string;
    function Bairro: string;
    function Cidade: string;
    function Pais: string;
    function Complemento: string;
    function CEP: string;
    function Consumidor_final: string;
  end;

var
  ConsultarEntidade: TConsultarEntidade;

implementation

{$R *.dfm}

function TConsultarEntidade.SelecionarEntidade: string;
begin
  ECodigo := '';
  if ShowModal = mrOk then
    Result := ECodigo
  else
    Result := '';
end;

function TConsultarEntidade.Nome: string;
begin
  Result := ENome;
end;

function TConsultarEntidade.Codigo: string;
begin
  Result := Ecodigo;
end;

function TConsultarEntidade.Ativo: string;
begin
  Result := EAtivo;
end;

function TConsultarEntidade.CPF: string;
begin
  Result := ECPF;
end;

function TConsultarEntidade.DDD: string;
begin
  Result := EDDD;
end;

function TConsultarEntidade.Telefone: string;
begin
  Result := ETelefone;
end;

function TConsultarEntidade.Rua: string;
begin
  Result := ERua;
end;

function TConsultarEntidade.Numero: string;
begin
  Result := ENumero;
end;

function TConsultarEntidade.Estado: string;
begin
  Result := EEstado;
end;

function TConsultarEntidade.Bairro: string;
begin
  Result := EBairro;
end;

function TConsultarEntidade.Cidade: string;
begin
  Result := ECidade;
end;

function TConsultarEntidade.Pais: string;
begin
  Result := EPais;
end;

function TConsultarEntidade.Complemento: string;
begin
  Result := EComplemento;
end;

function TConsultarEntidade.CEP: string;
begin
  Result := ECEP;
end;

function TConsultarEntidade.Consumidor_Final: string;
begin
  Result := EConsumidor_Final;
end;

procedure TConsultarEntidade.FormShow(Sender: TObject);
var
  i: Integer;
begin
  for i := 0 to Grid.Columns.Count - 1 do
    Grid.Columns[i].Width := Grid.Canvas.TextWidth(Grid.Columns[i].Title.Caption + '              ');
end;

procedure TConsultarEntidade.BtnSelecionarEntidadeClick(Sender: TObject);
begin
  ECodigo := CadEntidadeDataModule.FDQuery1.FieldByName('codigo').AsString;
  ENome := CadEntidadeDataModule.FDQuery1.FieldByName('nome').AsString;
  EAtivo := CadEntidadeDataModule.FDQuery1.FieldByName('ativo').AsString;
  ECPF := CadEntidadeDataModule.FDQuery1.FieldByName('CPF').AsString;
  EDDD := CadEntidadeDataModule.FDQuery1.FieldByName('DDD').AsString;
  ETelefone := CadEntidadeDataModule.FDQuery1.FieldByName('Telefone').AsString;
  ERua := CadEntidadeDataModule.FDQuery1.FieldByName('rua').AsString;
  ENumero := CadEntidadeDataModule.FDQuery1.FieldByName('numero').AsString;
  EEstado := CadEntidadeDataModule.FDQuery1.FieldByName('Estado').AsString;
  EBairro := CadEntidadeDataModule.FDQuery1.FieldByName('Bairro').AsString;
  ECidade := CadEntidadeDataModule.FDQuery1.FieldByName('Cidade').AsString;
  EPais := CadEntidadeDataModule.FDQuery1.FieldByName('Pais').AsString;
  EComplemento := CadEntidadeDataModule.FDQuery1.FieldByName('Complemento').AsString;
  ECEP := CadEntidadeDataModule.FDQuery1.FieldByName('CEP').AsString;
  EConsumidor_final := CadEntidadeDataModule.FDQuery1.FieldByName('Consumidor_final').AsString;
  ModalResult := mrOk;
end;
end.
